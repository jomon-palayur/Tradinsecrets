import pug from "pug"
import config from "../config/index.js"

export default async (content, filename, options) => {
  const render = pug.compile(content, {
    basedir: config.src,
    ...options,
    filename,
  })

  return {
    render,
    dependencies: render.dependencies,
  }
}
