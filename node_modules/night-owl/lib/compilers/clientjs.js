import { bundle } from "../utils/load.js"
import { getContentDependencies } from "../utils/get-dependencies.js"

export default async (content, filename, options) => {
  const dependencies = getContentDependencies(content, filename)

  content = await bundle(filename, options)

  return {
    ext: ".js",
    content,
    dependencies,
  }
}
